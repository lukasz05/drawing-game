(()=>{"use strict";class s extends Error{constructor(s){super(s),this.name=this.constructor.name}toJSON(){return{name:this.name,message:this.message}}}const e=s;class t{html;hex;constructor({html:s,hex:e}){this.html=s,this.hex=e}}class h{colors;name;constructor(s=[],e){this.colors=s,this.name=e}getColorByHTMLClass(s){for(let e of this.colors)if(e.html==s)return e;throw new r(`${s} is not in palette ${this.name}`)}getRandomColor(){return this.colors[Math.floor(Math.random()*this.colors.length)]}cloneColorsArray(){return[...this.colors]}}class r extends e{constructor(s){super(s)}}let o=new h([new t({html:"is-red",hex:"#c40233"}),new t({html:"is-orange",hex:"#ff7538"}),new t({html:"is-orange-light",hex:"#ffa41c"}),new t({html:"is-yellow",hex:"#ffd300"}),new t({html:"is-green-light",hex:"#80c022"}),new t({html:"is-green",hex:"#00ad43"}),new t({html:"is-blue-light",hex:"#0075a3"}),new t({html:"is-blue",hex:"#22438f"}),new t({html:"is-purple",hex:"#69359c"})],"main colors"),l=new h([new t({html:"is-white",hex:"#f8f9fa"}),new t({html:"is-grey-lightest",hex:"#e9ecef"}),new t({html:"is-grey-lighter",hex:"#dee2e6"}),new t({html:"is-grey-light",hex:"#ced4da"}),new t({html:"is-grey",hex:"#adb5bd"}),new t({html:"is-grey-dark",hex:"#6c757d"}),new t({html:"is-grey-darker",hex:"#495057"}),new t({html:"is-grey-darkest",hex:"#343a40"}),new t({html:"is-black",hex:"#212529"})],"greyscale colors");class i extends class{color;weight;constructor(s,e){this.color=s,this.weight=e}setColor(s){this.color=s}}{constructor(){super(l.getColorByHTMLClass("is-grey-darkest"),7)}}class n{constructor(s,e){this.x=s,this.y=e}}class c{constructor(s,e){this.coords=[s],this.tool=e}push(s){return this.coords.push(s)}popBack(){return this.coords.shift()}get length(){return this.coords.length}}let a=l.getColorByHTMLClass("is-white").hex,u=new class{userID;color;canDraw;score;currentTool;constructor(s,e,t,h){this.userID=s,this.color=e,this.canDraw=t,this.score=h,this.currentTool=new i}}("testowy",o.colors[5],!0,0),m=new class{limit;shapes;currentShape;#s;constructor(s=null){this.limit=s,this.shapes=[],this.currentShape=null,this.#s=0}addShape(s,e){let t=new c(s,e);this.shapes.push(t),this.currentShape=t,this.#s+=1,null!=this.limit&&this.#s>this.limit&&this.#e()}pushCoord(s){this.#s+=1,null!=this.limit&&this.#s>this.limit&&this.#e(),this.currentShape.push(s)}#e(){this.shapes[0].popBack(),console.log(this.shapes[0].length),0==this.shapes[0].length&&this.shapes.shift(),this.#s-=1}clear(){this.#s=0,this.currentShape=null,this.shapes=0}};new p5((s=>{let e=null;s.setup=()=>{s.createCanvas(400,400),s.background(s.color(a)),e=null},s.mousePressed=()=>{u.canDraw&&(e=new n(s.mouseX,s.mouseY),m.addShape(e,u.currentTool))},s.mouseReleased=()=>{u.canDraw&&(e=null)},s.draw=()=>{var t,h,r,o,l;u.canDraw&&(null!=e&&s.mouseIsPressed&&(l=u.currentTool,s.stroke(s.color(l.color.hex)),s.strokeWeight(l.weight),s.strokeCap(s.ROUND),s.strokeJoin(s.ROUND),t=e.x,h=e.y,r=s.mouseX,o=s.mouseY,s.line(1*t,1*h,1*r,1*o),e=new n(s.mouseX,s.mouseY),m.pushCoord(e)),s.mouseIsPressed||null==e||(e=null))}}),"game-canvas")})();